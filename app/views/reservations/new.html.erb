<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8' />
    <title></title>
    <meta name='viewport' content='initial-scale=1,maximum-scale=1,user-scalable=no' />
    <script src='https://api.tiles.mapbox.com/mapbox-gl-js/v1.4.0/mapbox-gl.js'></script>
    <link href='https://api.tiles.mapbox.com/mapbox-gl-js/v1.4.0/mapbox-gl.css' rel='stylesheet' />
    <style>
    #map {
    width: 100%;
    height: 300px;
    }
    #instructions {
    position: absolute;
    margin: 20px;
    width: 25%;
    top: 0;
    bottom: 20%;
    padding: 20px;
    background-color: rgba(255, 255, 255, 0.9);
    overflow-y: scroll;
    font-family: sans-serif;
    font-size: 0.8em;
    line-height: 2em;
    }
    .duration {
    font-size: 2em;
    }
    </style>
  </head>
  <body>
    <div class="container text-center">
      <h1 class="pt-3 pb-5">Reservation for<strong> <%= @workplace.name.capitalize %></strong></h1>
      <div class="container text-center" id="avatar-card" style="width: 20rem; height: 20rem; d-flex">
        <%= cl_image_tag @workplace.photo, class: "card-img-top" %>
      </div>
      <div class="container"
        id="map"
        style="width: 50%;
        height: 300px"
        data-markers="<%= @marker.to_json %>"
        data-mapbox-api-key="<%= ENV['MAPBOX_API_KEY'] %>"
      ></div>
      <%= simple_form_for @reservation do |f| %>
      <label><strong>Starting date</strong></label><br>
      <input id="resastart" type="date" name="reservation[starting_date]"><br><br>
      <label><strong>Ending date</strong></label><br>
      <input id="resaend" type="date" name="reservation[ending_date]"><br><br>
      <input id="WorkplaceId" name="WorkplaceId" type="hidden" value=<%= "#{@workplace.id}" %>>
      <button type="button" class="btn btn-outline-success"><%= f.button :submit %> </button>
      <% end %>
    </div>
  </body>
</html>
